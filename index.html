<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viswajith & Niranjana Wedding Invitation</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom Styles for Kerala Heritage Theme */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fdfaf6, #fffbf7); /* Subtle warm cream background */
            color: #333;
            line-height: 1.6;
            scroll-behavior: smooth;
            /* Optional: Subtle pattern overlay for added texture */
            /* background-image: url('data:image/svg+xml,%3Csvg width="6" height="6" viewBox="0 0 6 6" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23efe3d4" fill-opacity="0.4" fill-rule="evenodd"%3E%3Cpath d="M5 0h1L0 6V5zm1 6v-1L1 0h-1z"/%3E%3C/g%3E%3C/svg%3E'); */
        }
        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        .section {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            margin-bottom: 2rem;
            padding: 2.5rem;
            border: 1px solid #f0f0f0; /* Lighter border */
            transition: all 0.3s ease-in-out; /* Smooth transition for section elements */
        }
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 30px -5px rgba(0, 0, 0, 0.15), 0 12px 12px -5px rgba(0, 0, 0, 0.06);
        }
        .btn-primary {
            background-color: #A52A2A; /* IndianRed - a deep maroon/red */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none; /* Ensure buttons are not underlined if used as links */
        }
        .btn-primary:hover {
            background-color: #8B0000; /* Darker red */
            transform: translateY(-2px);
        }
        .btn-secondary {
            background-color: #DAA520; /* Goldenrod - a rich gold */
            color: #4B371C; /* Dark brown for text on gold */
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid #B8860B; /* Darker goldenrod border */
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none; /* Ensure buttons are not underlined if used as links */
        }
        .btn-secondary:hover {
            background-color: #B8860B; /* Darker goldenrod */
            color: white;
            transform: translateY(-2px);
        }
        .icon-link {
            display: inline-flex;
            align-items: center;
            color: #2E8B57; /* SeaGreen - a nice dark green */
            text-decoration: none;
            transition: color 0.3s ease;
            font-weight: 500;
        }
        .icon-link:hover {
            color: #3CB371; /* MediumSeaGreen */
        }
        .grid-item {
            background-color: #fcfcfc; /* Lighter background for grid items */
            padding: 0.75rem; /* Further reduced padding */
            border-radius: 0.75rem;
            border: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-size: 0.8rem; /* Smaller font size */
        }
        .grid-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 12px -3px rgba(0, 0, 0, 0.08), 0 3px 5px -2px rgba(0, 0, 0, 0.03);
        }
        .grid-item i {
            font-size: 2rem; /* Even smaller icons */
            color: #2E8B57; /* Green icon color */
            margin-bottom: 0.4rem; /* Reduced margin */
        }
        .grid-item p {
            margin-bottom: 0.1rem; /* Reduced margin */
        }
        .grid-item a {
            font-size: 0.65rem; /* Even smaller link text */
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 2.5rem;
            border-radius: 1.5rem;
            width: 90%;
            max-width: 550px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.25), 0 6px 6px rgba(0,0,0,0.15);
            text-align: center;
            position: relative;
        }
        .close-button {
            color: #888;
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.75rem;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: #555;
            text-decoration: none;
            cursor: pointer;
        }

        /* Specific styling for the Reception section to give it more weight */
        .reception-section {
            border-left: 8px solid #B8860B; /* Goldenrod left border */
            background-color: #fefdf9; /* Slightly off-white for prominence */
        }
        .reception-section h2 {
            color: #A52A2A; /* Stronger heading color */
        }
        .reception-intro {
            font-family: 'Playfair Display', serif;
            font-size: 1.25rem;
            color: #4B371C; /* Dark brown */
            margin-bottom: 1.5rem;
            line-height: 1.8;
            font-style: italic;
        }

        /* Hero Section Specific Colors */
        .hero-text-sub {
            color: #8B4513; /* SaddleBrown */
        }
        .hero-text-main {
            color: #A52A2A; /* IndianRed */
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2); /* Subtle shadow for names */
        }
        .hero-text-names {
            color: #DAA520; /* Goldenrod */
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3); /* More pronounced shadow for names */
            line-height: 1; /* Adjust line height for larger text */
        }

        /* Best Compliments Section Highlight */
        .best-compliments-section {
            font-size: 1.25rem; /* Larger font size */
            font-weight: 700; /* Bolder */
            color: #4B371C; /* Dark brown for prominence */
            padding-top: 1rem;
            border-top: 2px dashed #DAA520; /* A subtle goldenrod dashed line above it */
            margin-top: 1rem;
            display: inline-block; /* To make border-top apply correctly */
        }
    </style>
</head>
<body class="bg-gradient-to-r from-purple-100 via-pink-100 to-indigo-100 min-h-screen flex flex-col justify-center items-center py-10">

    <!-- Hero Section -->
    <header class="text-center py-10 mb-8 w-full">
        <h4 class="text-xl md:text-2xl font-light text-gray-700 mb-2 hero-text-sub">The joyous occasion of the</h4>
        <h1 class="text-5xl md:text-7xl font-bold tracking-wider hero-text-main">Wedding Reception of</h1>
        <h1 class="text-6xl md:text-8xl font-bold tracking-wider mt-2 hero-text-names">Viswajith & Niranjana</h1>
        <h4 class="text-xl md:text-2xl font-light text-gray-700 mt-4 hero-text-sub">Join us in celebrating!</h4>
    </header>

    <main class="container">
        <!-- Reception Details Section (Given more weightage) -->
        <section class="section reception-section">
            <h2 class="text-4xl font-bold text-center mb-6 text-red-700">Reception</h2>
            <p class="reception-intro text-center">
                I Mrs. Dr. Kairali Dileep, Ashtapathi House, Chottanikkara, Thazhakkal Family, Ernakulam, <br>
                request the honour of your gracious presence & blessings on the auspicious occasion of my son’s Marriage Reception.
            </p>
            <div class="text-center mb-8">
                <p class="text-lg md:text-xl text-gray-700 mb-2">
                    <i class="fas fa-calendar-alt text-red-700 mr-2"></i> Wednesday, 27th August 2025
                </p>
                <p class="text-lg md:text-xl text-gray-700 mb-4">
                    <i class="fas fa-clock text-red-700 mr-2"></i> 6:00 PM - 9:00 PM
                </p>
                <p class="text-lg md:text-xl text-gray-700">
                    <i class="fas fa-map-marker-alt text-red-700 mr-2"></i> SGP Hall, Thiruvankulam, Kochi
                </p>
                <a href="https://maps.app.goo.gl/RiVvpVF2u7eCCMBQ6" target="_blank" class="icon-link mt-2 inline-block">
                    <i class="fas fa-external-link-alt text-green-700 mr-1"></i> View on Google Maps
                </a>
            </div>

            <h3 class="text-2xl font-semibold text-center mb-4 text-brown-700">Nearby Attractions from Reception Hall</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"> <!-- Further reduced gap -->
                <div class="grid-item">
                    <i class="fas fa-university"></i>
                    <p class="font-semibold">Hill Palace Museum</p>
                    <p class="text-xs text-gray-600">1.5 km</p>
                    <a href="https://maps.app.goo.gl/dxfP3kUvrLCca8zBA" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-gopuram"></i>
                    <p class="font-semibold">Chottanikkara Bhagavathy Temple</p>
                    <p class="text-xs text-gray-600">3.4 km</p>
                    <a href="https://maps.app.goo.gl/b2Qa5Lp9UJxup5yXA" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-train"></i>
                    <p class="font-semibold">Thrippunithura Railway Station (TRTR)</p>
                    <p class="text-xs text-gray-600">3.1 km</p>
                    <a href="https://maps.app.goo.gl/hwJzdJerChhv5NZVA" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-subway"></i>
                    <p class="font-semibold">Thripunithura Terminal Metro Station</p>
                    <p class="text-xs text-gray-600">3.2 km</p>
                    <a href="https://maps.app.goo.gl/c4s1m3hMn85WHunW9" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-dove"></i>
                    <p class="font-semibold">Mangalavanam Bird Sanctuary</p>
                    <p class="text-xs text-gray-600">15 km</p>
                    <a href="https://maps.app.goo.gl/Ci2zZUALW5aZEgc97" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-water"></i>
                    <p class="font-semibold">Marine Viewpoint</p>
                    <p class="text-xs text-gray-600">13 km</p>
                    <a href="https://maps.app.goo.gl/BbLWSK7w58pqHCdR7" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-train"></i>
                    <p class="font-semibold">Ernakulam Jn Railway Station</p>
                    <p class="text-xs text-gray-600">11.5 km</p>
                    <a href="https://maps.app.goo.gl/GroNx9gSm97nMrVo9" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-monument"></i>
                    <p class="font-semibold">Vasco da Gama Square</p>
                    <p class="text-xs text-gray-600">21 km</p>
                    <a href="https://maps.app.goo.gl/hjDePcLXggzZNa1y7" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-plane"></i>
                    <p class="font-semibold">Cochin International Airport (COK)</p>
                    <p class="text-xs text-gray-600">33 km</p>
                    <a href="https://maps.app.goo.gl/vMSETDdtKFZtWqyS6" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
            </div>
        </section>

        <!-- Wedding Details Section -->
        <section class="section">
            <h2 class="text-4xl font-bold text-center mb-6 text-red-700">The Wedding Ceremony</h2>
            <div class="text-center mb-8">
                <p class="text-lg md:text-xl text-gray-700 mb-2">
                    <i class="fas fa-calendar-alt text-red-700 mr-2"></i> Monday, 25th August 2025
                </p>
                <p class="text-lg md:text-xl text-gray-700 mb-4">
                    <i class="fas fa-clock text-red-700 mr-2"></i> Muhurtham: 11:00 AM - 11:40 AM
                </p>
                <p class="text-lg md:text-xl text-gray-700">
                    <i class="fas fa-map-marker-alt text-red-700 mr-2"></i> Lalith Mahal Kalyana Mandapam, West Fort, Trivandrum
                </p>
                <a href="https://maps.app.goo.gl/sDXLrUbBY6ens6vF9" target="_blank" class="icon-link mt-2 inline-block">
                    <i class="fas fa-external-link-alt text-green-700 mr-1"></i> View on Google Maps
                </a>
            </div>

            <h3 class="text-2xl font-semibold text-center mb-4 text-brown-700">Nearby Attractions from Marriage Hall</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"> <!-- Further reduced gap -->
                <div class="grid-item">
                    <i class="fas fa-church"></i>
                    <p class="font-semibold">Padmanabhaswamy Temple</p>
                    <p class="text-xs text-gray-600">350 m</p>
                    <a href="https://g.co/kgs/csyC773" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-mask"></i>
                    <p class="font-semibold">Sunil’s Wax Museum</p>
                    <p class="text-xs text-gray-600">800 m</p>
                    <a href="https://g.co/kgs/43DwBDH" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-landmark"></i>
                    <p class="font-semibold">Kuthiramalika Palace</p>
                    <p class="text-xs text-gray-600">850 m</p>
                    <a href="https://maps.app.goo.gl/poT88mU9nP8Tcsed6" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-train"></i>
                    <p class="font-semibold">Trivandrum Railway Station(TVC)</p>
                    <p class="text-xs text-gray-600">2.3 km</p>
                    <a href="https://maps.app.goo.gl/et8rn4243F4uX2qN7" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-paw"></i>
                    <p class="font-semibold">Zoo</p>
                    <p class="text-xs text-gray-600">4.2 km</p>
                    <a href="https://maps.app.goo.gl/rYZUSvdrPRNxKSvJ7" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-plane"></i>
                    <p class="font-semibold">Trivandrum International Airport (TRV)</p>
                    <p class="text-xs text-gray-600">5.3 km</p>
                    <a href="https://maps.app.goo.gl/zmJgvWKTEFsf2vDG6" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-building"></i>
                    <p class="font-semibold">Kanakakunnu Palace</p>
                    <p class="text-xs text-gray-600">4.5 km</p>
                    <a href="https://maps.app.goo.gl/SJfojcrqnLXrB6LCA" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-ship"></i>
                    <p class="font-semibold">Veli Tourist Village</p>
                    <p class="text-xs text-gray-600">8.2 km</p>
                    <a href="https://maps.app.goo.gl/17B2Jz9TFCsUMZG38" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
                <div class="grid-item">
                    <i class="fas fa-mountain"></i>
                    <p class="font-semibold">Varkala Cliff</p>
                    <p class="text-xs text-gray-600">45 km</p>
                    <a href="https://maps.app.goo.gl/biX1ER2Ti45PbMhs5" target="_blank" class="icon-link mt-1 text-xs"><i class="fas fa-map-marker-alt mr-1"></i>Map</a>
                </div>
            </div>
        </section>

        <!-- RSVP Section -->
        <section class="section text-center">
            <h2 class="text-4xl font-bold mb-6 text-brown-800">Will you join us?</h2>
            <p class="text-lg text-gray-700 mb-6">Please let us know which event(s) you'll be attending so we can make arrangements.</p>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <button id="rsvpWeddingBtn" class="btn-primary text-xl"><i class="fas fa-ring mr-2"></i> Attending Wedding</button>
                <button id="rsvpReceptionBtn" class="btn-primary text-xl"><i class="fas fa-cocktail mr-2"></i> Attending Reception</button>
                <button id="rsvpBothBtn" class="btn-primary text-xl"><i class="fas fa-heart mr-2"></i> Attending Both</button>
            </div>
            <p class="text-md text-gray-600 mt-6">
                Click on the buttons above to add the event(s) to your calendar, so you won't miss out on these auspicious occasions!
            </p>
        </section>
    </main>

    <!-- Success Modal -->
    <div id="successModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('successModal')">&times;</span>
            <p class="text-2xl font-bold mb-4 text-green-600"><i class="fas fa-check-circle mr-2"></i> Success!</p>
            <p id="modalMessage" class="text-lg text-gray-700 mb-6"></p>
            <div class="flex flex-wrap justify-center gap-4">
                <a id="googleCalLink" href="#" target="_blank" class="btn-primary flex items-center text-base"><i class="fab fa-google mr-2"></i> Add to Google Calendar</a>
                <a id="icsCalLink" href="#" class="btn-secondary flex items-center text-base"><i class="fas fa-calendar-plus mr-2"></i> Download ICS File</a>
            </div>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal hidden">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal('errorModal')">&times;</span>
            <p class="text-2xl font-bold mb-4 text-red-600"><i class="fas fa-exclamation-triangle mr-2"></i> Error</p>
            <p id="errorMessage" class="text-lg text-gray-700">Something went wrong. Please try again or contact the organizers.</p>
            <button onclick="closeModal('errorModal')" class="btn-primary mt-6">Close</button>
        </div>
    </div>

    <footer class="text-center text-gray-600 py-6 mt-8 w-full">
        <p class="text-brown-700 mt-2 font-semibold best-compliments-section">With Best Compliments from<br>Abhijith D & Nithya Abhijith</p>
    </footer>

    <script>
        // Data for events and nearby places
        const events = {
            wedding: {
                title: "Viswajith & Niranjana Wedding Ceremony",
                date: "2025-08-25",
                startTime: "11:00",
                endTime: "11:40",
                location: "Lalith Mahal Kalyana Mandapam, West Fort, Trivandrum",
                mapLink: "https://maps.app.goo.gl/sDXLrUbBY6ens6vF9",
                description: "We request the honor of your gracious presence and blessings on the auspicious occasion of our son's marriage.",
                nearbyPlaces: [
                    { name: "Padmanabhaswamy Temple", distance: "350 m", map: "https://g.co/kgs/csyC773" },
                    { name: "Sunil's Wax Museum", distance: "800 m", map: "https://g.co/kgs/43DwBDH" },
                    { name: "Kuthiramalika Palace", distance: "850 m", map: "https://maps.app.goo.gl/poT88mU9nP8Tcsed6" },
                    { name: "Trivandrum Railway Station(TVC)", distance: "2.3 km", map: "https://maps.app.goo.gl/et8rn4243F4uX2qN7" },
                    { name: "Zoo", distance: "4.2 km", map: "https://maps.co/kgs/rYZUSvdrPRNxKSvJ7" },
                    { name: "Trivandrum International Airport (TRV)", distance: "5.3 km", map: "https://maps.app.goo.gl/zmJgvWKTEFsf2vDG6" },
                    { name: "Kanakakunnu Palace", distance: "4.5 km", map: "https://maps.app.goo.gl/SJfojcrqnLXrB6LCA" },
                    { name: "Veli Tourist Village", distance: "8.2 km", map: "https://maps.app.goo.gl/17B2Jz9TFCsUMZG38" },
                    { name: "Varkala Cliff", distance: "45 km", map: "https://maps.app.goo.gl/biX1ER2Ti45PbMhs5" }
                ]
            },
            reception: {
                title: "Viswajith & Niranjana Wedding Reception",
                date: "2025-08-27",
                startTime: "18:00", // 6:00 PM
                endTime: "21:00",   // 9:00 PM
                location: "SGP Hall, Thiruvankulam, Kochi",
                mapLink: "https://maps.app.goo.gl/RiVvpVF2u7eCCMBQ6",
                description: "I Mrs. Dr. Kairali Dileep, Ashtapathi House, Chottanikkara, Thazhakkal Family, Ernakulam, request the honour of your gracious presence & blessings on the auspicious occasion of my son’s Marriage Reception.",
                nearbyPlaces: [
                    { name: "Hill Palace Museum", distance: "1.5 km", map: "https://maps.app.goo.gl/dxfP3kUvrLCca8zBA" },
                    { name: "Chottanikkara Bhagavathy Temple", distance: "3.4 km", map: "https://maps.app.goo.gl/b2Qa5Lp9UJxup5yXA" },
                    { name: "Thrippunithura Railway Station (TRTR)", distance: "3.1 km", map: "https://maps.app.goo.gl/hwJzdJerChhv5NZVA" },
                    { name: "Thripunithura Terminal Metro Station", distance: "3.2 km", map: "https://maps.app.goo.gl/c4s1m3hMn85WHunW9" },
                    { name: "Mangalavanam Bird Sanctuary", distance: "15 km", map: "https://maps.app.goo.gl/Ci2zZUALW5aZEgc97" },
                    { name: "Marine Viewpoint", distance: "13 km", map: "https://maps.app.goo.gl/BbLWSK7w58pqHCdR7" },
                    { name: "Ernakulam Jn Railway Station", distance: "11.5 km", map: "https://maps.app.goo.gl/GroNx9gSm97nMrVo9" },
                    { name: "Vasco da Gama Square", distance: "21 km", map: "https://maps.app.goo.gl/hjDePcLXggzZNa1y7" },
                    { name: "Cochin International Airport (COK)", distance: "33 km", map: "https://maps.app.goo.gl/vMSETDdtKFZtWqyS6" }
                ]
            }
        };

        // Get modal elements
        const successModal = document.getElementById('successModal');
        const errorModal = document.getElementById('errorModal');
        const modalMessage = document.getElementById('modalMessage');
        const errorMessage = document.getElementById('errorMessage');
        const googleCalLink = document.getElementById('googleCalLink');
        const icsCalLink = document.getElementById('icsCalLink');

        /**
         * Shows the specified modal.
         * @param {string} modalId - The ID of the modal to show ('successModal' or 'errorModal').
         * @param {string} message - The message to display in the modal.
         * @param {object} [eventData] - Event data for calendar links (only for success modal).
         * @param {string} [eventType] - 'wedding', 'reception', or 'both'
         */
        function showModal(modalId, message, eventData = null, eventType = '') {
            if (modalId === 'successModal') {
                modalMessage.textContent = message;
                successModal.classList.remove('hidden');
                // Generate calendar links if eventData is provided
                if (eventData) {
                    googleCalLink.href = generateGoogleCalendarLink(eventData, eventType);
                    icsCalLink.href = generateICSFile(eventData, eventType);
                } else {
                    googleCalLink.href = "#"; // Disable if no event data
                    icsCalLink.href = "#"; // Disable if no event data
                }
            } else if (modalId === 'errorModal') {
                errorMessage.textContent = message;
                errorModal.classList.remove('hidden');
            }
        }

        /**
         * Hides the specified modal.
         * @param {string} modalId - The ID of the modal to hide.
         */
        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        /**
         * Formats a date and time into a Google Calendar friendly format (YYYYMMDDTHHMMSSZ).
         * @param {string} dateStr - Date string (YYYY-MM-DD).
         * @param {string} timeStr - Time string (HH:MM).
         * @returns {string} Formatted datetime string.
         */
        function formatDateTimeForGoogle(dateStr, timeStr) {
            const [year, month, day] = dateStr.split('-');
            const [hour, minute] = timeStr.split(':');
            const dt = new Date(`${dateStr}T${timeStr}:00`);
            const pad = (num) => num.toString().padStart(2, '0');
            return `${dt.getFullYear()}${pad(dt.getMonth() + 1)}${pad(dt.getDate())}T${pad(dt.getHours())}${pad(dt.getMinutes())}${pad(dt.getSeconds())}`;
        }

        /**
         * Generates nearby places description for calendar events.
         * @param {Array<Object>} places - Array of nearby place objects.
         * @param {string} venueName - Name of the venue.
         * @returns {string} Formatted string of nearby places.
         */
        function getNearbyPlacesDescription(places, venueName) {
            if (!places || places.length === 0) return "";
            let description = `\\n\\nYou can also explore nearby places around ${venueName}:\\n`;
            places.forEach(place => {
                description += `- ${place.name} (${place.distance} from ${venueName})\\n`;
            });
            return description;
        }

        /**
         * Generates a Google Calendar link.
         * @param {object} data - Event data (title, date, startTime, endTime, location, description, nearbyPlaces).
         * @param {string} eventType - 'wedding', 'reception', or 'both'.
         * @returns {string} Google Calendar URL.
         */
        function generateGoogleCalendarLink(data, eventType) {
            let desc = data.description;
            if (eventType === 'wedding' || eventType === 'both') {
                desc += getNearbyPlacesDescription(events.wedding.nearbyPlaces, events.wedding.location.split(',')[0]);
            }
            if (eventType === 'reception' || eventType === 'both') {
                 desc += getNearbyPlacesDescription(events.reception.nearbyPlaces, events.reception.location.split(',')[0]);
            }

            const startDate = formatDateTimeForGoogle(data.date, data.startTime);
            const endDate = formatDateTimeForGoogle(data.date, data.endTime);
            const encodedTitle = encodeURIComponent(data.title);
            const encodedLocation = encodeURIComponent(data.location);
            const encodedDescription = encodeURIComponent(desc);

            const baseUrl = "https://calendar.google.com/calendar/render?action=TEMPLATE";
            const params = `text=${encodedTitle}&dates=${startDate}/${endDate}&details=${encodedDescription}&location=${encodedLocation}&sf=true&output=xml`;
            return `${baseUrl}&${params}`;
        }

        /**
         * Generates an ICS file content.
         * @param {object} data - Event data (title, date, startTime, endTime, location, description, nearbyPlaces).
         * @param {string} eventType - 'wedding', 'reception', or 'both'.
         * @returns {string} Data URI for ICS file.
         */
        function generateICSFile(data, eventType) {
            const startDate = new Date(`${data.date}T${data.startTime}:00`);
            const endDate = new Date(`${data.date}T${data.endTime}:00`);

            // Format dates for ICS (YYYYMMDDTHHMMSS)
            const formatICSDate = (dt) => {
                const pad = (num) => num.toString().padStart(2, '0');
                return `${dt.getFullYear()}${pad(dt.getMonth() + 1)}${pad(dt.getDate())}T${pad(dt.getHours())}${pad(dt.getMinutes())}${pad(dt.getSeconds())}`;
            };

            let descriptionText = data.description;
            if (eventType === 'wedding' || eventType === 'both') {
                descriptionText += getNearbyPlacesDescription(events.wedding.nearbyPlaces, events.wedding.location.split(',')[0]);
            }
            if (eventType === 'reception' || eventType === 'both') {
                 descriptionText += getNearbyPlacesDescription(events.reception.nearbyPlaces, events.reception.location.split(',')[0]);
            }

            // Reminders (VALARM) - 1 week, 3 days, same day
            const now = new Date();
            const uid = `${Math.random().toString(36).substring(2, 15)}@yourdomain.com`; // Unique ID for the event

            const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Viswajith & Niranjana Wedding//NONSGML v1.0//EN
BEGIN:VEVENT
UID:${uid}
DTSTAMP:${formatICSDate(now)}Z
DTSTART:${formatICSDate(startDate)}
DTEND:${formatICSDate(endDate)}
SUMMARY:${data.title}
LOCATION:${data.location}
DESCRIPTION:${descriptionText.replace(/\n/g, '\\n')}
BEGIN:VALARM
ACTION:DISPLAY
DESCRIPTION:Reminder: ${data.title} is in 1 week!
TRIGGER;RELATED=START:-P7D
END:VALARM
BEGIN:VALARM
ACTION:DISPLAY
DESCRIPTION:Reminder: ${data.title} is in 3 days!
TRIGGER;RELATED=START:-P3D
END:VALARM
BEGIN:VALARM
ACTION:DISPLAY
DESCRIPTION:Reminder: ${data.title} is today!
TRIGGER;RELATED=START:-PT0M
END:VALARM
END:VEVENT
END:VCALENDAR`;

            return `data:text/calendar;charset=utf8,${encodeURIComponent(icsContent)}`;
        }

        // Event Listeners for RSVP buttons
        document.getElementById('rsvpWeddingBtn').addEventListener('click', () => {
            showModal('successModal', 'Great! We\'ve prepared the calendar event for your wedding attendance.', events.wedding, 'wedding');
        });

        document.getElementById('rsvpReceptionBtn').addEventListener('click', () => {
            showModal('successModal', 'Wonderful! We\'ve prepared the calendar event for your reception attendance.', events.reception, 'reception');
        });

        document.getElementById('rsvpBothBtn').addEventListener('click', () => {
            // Modify modal message to indicate two events
            modalMessage.innerHTML = `Excellent! We've prepared calendar events for both the wedding and reception.<br><br>
                                     You can add the wedding to your calendar: <a id="googleCalWeddingLink" href="#" target="_blank" class="btn-primary inline-flex items-center text-sm mr-2 mt-2"><i class="fab fa-google mr-1"></i> Google Cal</a>
                                     <a id="icsCalWeddingLink" href="#" class="btn-secondary inline-flex items-center text-sm mt-2"><i class="fas fa-calendar-plus mr-1"></i> Download ICS (Wedding)</a>
                                     <br><br>
                                     And the reception: <a id="googleCalReceptionLink" href="#" target="_blank" class="btn-primary inline-flex items-center text-sm mr-2 mt-2"><i class="fab fa-google mr-1"></i> Google Cal</a>
                                     <a id="icsCalReceptionLink" href="#" class="btn-secondary inline-flex items-center text-sm mt-2"><i class="fas fa-calendar-plus mr-1"></i> Download ICS (Reception)</a>`;

            successModal.classList.remove('hidden');

            // Set specific links for "both" option
            document.getElementById('googleCalWeddingLink').href = generateGoogleCalendarLink(events.wedding, 'wedding');
            document.getElementById('icsCalWeddingLink').href = generateICSFile(events.wedding, 'wedding');

            document.getElementById('googleCalReceptionLink').href = generateGoogleCalendarLink(events.reception, 'reception');
            document.getElementById('icsCalReceptionLink').href = generateICSFile(events.reception, 'reception');

            // Hide the default singular buttons in the modal if "both" is clicked
            googleCalLink.style.display = 'none';
            icsCalLink.style.display = 'none';
        });

        // Event listener to reset modal buttons when it's closed, ensuring correct display for next click
        successModal.addEventListener('transitionend', () => {
            if (successModal.classList.contains('hidden')) {
                googleCalLink.style.display = 'inline-flex';
                icsCalLink.style.display = 'inline-flex';
            }
        });
    </script>
</body>
</html>

